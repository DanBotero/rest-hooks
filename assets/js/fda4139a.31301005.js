"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[88946],{3905:(e,r,t)=>{t.d(r,{Zo:()=>u,kt:()=>d});var n=t(67294);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=n.createContext({}),l=function(e){var r=n.useContext(s),t=r;return e&&(t="function"==typeof e?e(r):a(a({},r),e)),t},u=function(e){var r=l(e.components);return n.createElement(s.Provider,{value:r},e.children)},p={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},f=n.forwardRef((function(e,r){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),f=l(t),d=o,m=f["".concat(s,".").concat(d)]||f[d]||p[d]||i;return t?n.createElement(m,a(a({ref:r},u),{},{components:t})):n.createElement(m,a({ref:r},u))}));function d(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=f;var c={};for(var s in r)hasOwnProperty.call(r,s)&&(c[s]=r[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var l=2;l<i;l++)a[l]=t[l];return n.createElement.apply(null,a)}return n.createElement.apply(null,t)}f.displayName="MDXCreateElement"},39504:(e,r,t)=>{t.r(r),t.d(r,{frontMatter:()=>i,contentTitle:()=>a,metadata:()=>c,toc:()=>s,default:()=>u});var n=t(87462),o=(t(67294),t(3905));const i={title:"Custom Resource cache lifetime",sidebar_label:"Custom cache lifetime",id:"resource-lifetime",original_id:"resource-lifetime"},a=void 0,c={unversionedId:"guides/resource-lifetime",id:"version-2.2/guides/resource-lifetime",isDocsHomePage:!1,title:"Custom Resource cache lifetime",description:"By default the NetworkManager specifies the lifetime of data and errors in the cache.",source:"@site/versioned_docs/version-2.2/guides/resource-lifetime.md",sourceDirName:"guides",slug:"/guides/resource-lifetime",permalink:"/docs/2.2/guides/resource-lifetime",editUrl:"https://github.com/coinbase/rest-hooks/edit/master/docs/guides/resource-lifetime.md",tags:[],version:"2.2",frontMatter:{title:"Custom Resource cache lifetime",sidebar_label:"Custom cache lifetime",id:"resource-lifetime",original_id:"resource-lifetime"},sidebar:"version-2.2/docs",previous:{title:"Custom networking library",permalink:"/docs/2.2/guides/custom-networking"},next:{title:"Cross-orgin requests with JSONP",permalink:"/docs/2.2/guides/jsonp"}},s=[{value:"Examples",id:"examples",children:[{value:"Long cache lifetime",id:"long-cache-lifetime",children:[],level:3},{value:"Never retry on error",id:"never-retry-on-error",children:[],level:3}],level:2}],l={toc:s};function u({components:e,...r}){return(0,o.kt)("wrapper",(0,n.Z)({},l,r,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"By default the NetworkManager specifies the lifetime of data and errors in the cache.\nIf some resources are longer living, or shorter living than other, the can specify their own expiry length values,\nwhich will be passed on to all ",(0,o.kt)("a",{parentName:"p",href:"/docs/2.2/api/FetchShape"},"fetch shape")," creator functions of ",(0,o.kt)("a",{parentName:"p",href:"/docs/2.2/api/resource"},"Resource"),"."),(0,o.kt)("h2",{id:"examples"},"Examples"),(0,o.kt)("h3",{id:"long-cache-lifetime"},"Long cache lifetime"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"LongLivingResource.ts")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"// We can now extend LongLivingResource to get a resource that will be cached for one hour\nabstract class LongLivingResource extends Resource {\n  static getRequestOptions() {\n    return {\n      ...super.getRequestOptions(),\n      dataExpiryLength: 60 * 60 * 1000, // one hour\n    };\n  }\n}\n")),(0,o.kt)("h3",{id:"never-retry-on-error"},"Never retry on error"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"NoRetryResource.ts")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"// We can now extend NoRetryResource to get a resource that will never retry on network error\nabstract class NoRetryResource extends Resource {\n  static getRequestOptions() {\n    return {\n      ...super.getRequestOptions(),\n      errorExpiryLength: Infinity,\n    };\n  }\n}\n")))}u.isMDXComponent=!0}}]);